{
  "version": "1.0",
  "lastUpdated": "2025-08-05T13:37:35.092Z",
  "queryCount": 5,
  "queries": [
    {
      "id": "3868c3ce-cafe-479f-8163-df3a80079278",
      "description": "이 SQL 쿼리는 TM 운송오더 헤더(/SCMTMS/D_TORROT), TM 운송오더 아이템(/SCMTMS/D_TORITE), TM FLP CBO 정보(ZTLEZ_TORITM_FLP) 테이블을 조인하여, 특정 배송 정보(VBELN, POSNR)와 FLP 정보가 삭제되지 않은(ZZLVORM), TM Freight Order(TOR_CAT), TOR_TYPE이 FO01, LIFECYCLE이 취소되지 않은, 그리고 아이템 카테고리가 Product인 조건을 만족하는 데이터를 추출합니다. 이를 통해 ERP Company Code와 Sales Organization 정보를 발췌하는 것이 목적입니다.",
      "sqlScript": "SELECT SINGLE IT~ERP_COMP_CODE, FI~ZZSBUKR\n    FROM /SCMTMS/D_TORROT AS HD JOIN /SCMTMS/D_TORITE AS IT\n      ON HD~DB_KEY = IT~PARENT_KEY\n                                JOIN ZTLEZ_TORITM_FLP AS FI\n      ON FI~PARENT_KEY = IT~DB_KEY\n   WHERE FI~ZZSVBLN    EQ @P_VBELN\n     AND FI~ZZSVBLP    EQ @P_POSNR\n     AND FI~ZZLVORM    EQ @SPACE\n     AND HD~TOR_CAT    EQ @/SCMTMS/IF_TOR_CONST=>SC_TOR_CATEGORY-ACTIVE\n     AND HD~TOR_TYPE   EQ @LC_FO01\n     AND HD~LIFECYCLE  NE @/SCMTMS/IF_TOR_STATUS_C=>SC_ROOT-LIFECYCLE-V_CANCELED\n     AND IT~ITEM_CAT   EQ @/SCMTMS/IF_TOR_CONST=>SC_TOR_ITEM_CATEGORY-PRODUCT\n    INTO (@L_BUKRS, @L_SBUKR).",
      "metadata": {
        "addedVia": "mcp-tool",
        "addedAt": "2025-08-05T13:31:55.336Z"
      },
      "createdAt": "2025-08-05T13:31:55.336Z",
      "updatedAt": "2025-08-05T13:31:55.336Z"
    },
    {
      "id": "3bbb6180-4a20-4934-bf7b-7f658d43d656",
      "description": "이 SQL 쿼리는 TM 운송오더 헤더(/SCMTMS/D_TORROT) 테이블에서 특정 DB_KEY(입력값: LS_DOCFLOW-KEY)에 해당하는 운송오더의 상세 정보를 추출합니다. 추출되는 필드에는 DB_KEY, TOR_ID, LABELTXT, TOR_CAT, TOR_TYPE, CREATED_ON, CHANGED_ON, ZZDSUBTYPE, ZZCMS_FLAG, ZZCNTR_ST, ZZCNTR_RT_UNPACK 등이 포함됩니다. 이를 통해 해당 운송오더의 상세 정보를 구조화된 데이터(LS_TOR)로 반환하는 것이 목적입니다.",
      "sqlScript": "SELECT SINGLE DB_KEY TOR_ID LABELTXT TOR_CAT TOR_TYPE\n                      CREATED_ON CHANGED_ON ZZDSUBTYPE ZZCMS_FLAG ZZCNTR_ST\n                      ZZCNTR_RT_UNPACK\n          FROM /SCMTMS/D_TORROT\n          INTO CORRESPONDING FIELDS OF LS_TOR\n         WHERE DB_KEY = LS_DOCFLOW-KEY.",
      "metadata": {
        "addedVia": "mcp-tool",
        "addedAt": "2025-08-05T13:36:11.792Z"
      },
      "createdAt": "2025-08-05T13:36:11.792Z",
      "updatedAt": "2025-08-05T13:36:11.792Z"
    },
    {
      "id": "96726eb1-98b1-4fca-8f6c-1fb872d55e82",
      "description": "이 SQL 쿼리는 TM 운송오더 헤더(/SCMTMS/D_TORROT)와 TM 운송오더 아이템(/SCMTMS/D_TORITE) 테이블을 조인하여, 특정 로딩 ID(TOR_ID)와 배송 정보(ZZVBELN_VL)를 추출합니다. 조인 조건은 DB_KEY와 아이템 타입(ITEM_TYPE)이 LC_PRD인 경우를 대상으로 합니다. 필터링 조건으로는 TOR_TYPE이 LC_FO01(Loading ID)이고, 배송 정보(ZZVBELN_VL)가 입력된 데이터(LT_VBELN-VBELN)와 일치하는 경우를 포함합니다. 이를 통해 중복 없이 로딩 ID와 배송 정보를 테이블 형태로 반환하는 것이 목적입니다.",
      "sqlScript": "SELECT DISTINCT I~ZZVBELN_VL AS VLIEN,\n                    H~TOR_ID     AS LOADN\n    FROM  /SCMTMS/D_TORROT                 AS H\n          INNER JOIN  /SCMTMS/D_TORITE     AS I\n                  ON  H~DB_KEY    EQ I~PARENT_KEY AND\n                      I~ITEM_TYPE EQ @LC_PRD\n          FOR ALL ENTRIES IN @LT_VBELN\n    WHERE H~TOR_TYPE   EQ @LC_FO01        AND\n          I~ZZVBELN_VL EQ @LT_VBELN-VBELN\n    INTO TABLE @LT_LOADN.",
      "metadata": {
        "addedVia": "mcp-tool",
        "addedAt": "2025-08-05T13:36:38.084Z"
      },
      "createdAt": "2025-08-05T13:36:38.084Z",
      "updatedAt": "2025-08-05T13:36:38.084Z"
    },
    {
      "id": "8f765eaf-8054-48c8-9b0b-e7705e1dd997",
      "description": "이 SQL 쿼리는 TM 운송오더 헤더(/SCMTMS/D_TORROT) 테이블에서 특정 DB_KEY(입력값: ls_item_data-parent_key)와 TOR_CAT(운송오더 카테고리)가 LC_FU인 운송오더의 TOR_ID를 추출합니다. 이를 통해 해당 DB_KEY와 카테고리에 해당하는 운송오더의 TOR_ID를 단일 값으로 반환하는 것이 목적입니다.",
      "sqlScript": "SELECT SINGLE tor_id FROM /scmtms/d_torrot\nINTO @DATA(lv_fu)\nWHERE db_key = @ls_item_data-parent_key\nAND tor_cat = @lc_fu.",
      "metadata": {
        "addedVia": "mcp-tool",
        "addedAt": "2025-08-05T13:36:57.325Z"
      },
      "createdAt": "2025-08-05T13:36:57.325Z",
      "updatedAt": "2025-08-05T13:36:57.325Z"
    },
    {
      "id": "735723c7-ce81-4a08-a4a0-f41a5868c731",
      "description": "이 SQL 쿼리는 /SCMTMS/D_TORITE (TM 운송오더 아이템), /SCMTMS/D_TORROT (TM 운송오더 헤더), ZTLEZ_TORITM_FLP (TM FLP CBO 정보) 테이블을 조인하여 특정 데이터를 추출합니다. 추출 조건은 hd~tor_type이 'FO01'이고, hd~zzVSTEL이 특정 값(@Ps_LRK-VSTEL)과 일치하며, it1~item_type이 'Product'이고, it2~zzMFGNO가 특정 값(@Ps_LRK-LRKEY)과 일치하며, it2~zzLVORM과 it2~zzXADDI가 공백인 경우를 만족하는 데이터를 추출합니다.\n\n이러한 조건은 특정 배송지(@Ps_LRK-VSTEL)와 제품 번호(@Ps_LRK-LRKEY)에 대한 운송오더 정보를 추출하는 것을 의미하며, it2~zzLVORM과 it2~zzXADDI가 공백인 경우는 FLP 정보가 삭제되지 않은 경우를 의미합니다.\n\n추출된 데이터는 LOADN(hd~TOR_ID)과 VSTEL(hd~zzvstel) 필드로 구성되며, 추가적으로 @pT_LID 테이블의 필드를 포함합니다. LOADN은 운송오더 번호를 의미하며, VSTEL은 배송지를 의미합니다. 이러한 데이터는 특정 배송지와 제품 번호에 대한 운송오더 정보를 관리하고 분석하는 데 사용될 수 있습니다.",
      "sqlScript": "SELECT DISTINCT hd~TOR_ID AS LOADN, hd~zzvstel AS VSTEL\n         APPENDING CORRESPONDING FIELDS OF TABLE @pT_LID\n         FROM /scmtms/d_torite As it1\n         JOIN /scmtms/d_torrot AS hd\n           ON it1~parent_key = hd~db_key\n         JOIN ztlez_toritm_flp AS it2\n           ON it2~parent_key = it1~db_key\n          AND it2~root_key = hd~db_key\n        WHERE hd~tor_type EQ @GC_FO01\n          AND hd~zzVSTEL EQ @Ps_LRK-VSTEL\n          AND it1~item_type EQ @GC_PRD\n          AND it2~zzMFGNO EQ @Ps_LRK-LRKEY\n          AND it2~zzLVORM EQ @SPACE\n          AND it2~zzXADDI EQ @SPACE.",
      "metadata": {
        "addedVia": "mcp-tool",
        "addedAt": "2025-08-05T13:37:35.092Z"
      },
      "createdAt": "2025-08-05T13:37:35.092Z",
      "updatedAt": "2025-08-05T13:37:35.092Z"
    }
  ]
}